<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Erics">
        <link rel="canonical" href="https://docs.pythoneers.cn/web-crawler/scrapy.html">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Scrapy - PYTHONEERS</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../css/nav.css" rel="stylesheet">
        <link href="../css/public.css" rel="stylesheet">
    

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    <script data-ad-client="ca-pub-6937898095875663" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!--    <script async src="../js/somelib.js"></script>-->
 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">PYTHONEERS</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../python/python3.html">基础到进阶</a>
</li>
                                    
<li >
    <a href="../python/module.html">内置模块与第三方模块</a>
</li>
                                    
<li >
    <a href="../python/algorithm.html">数据结构与算法</a>
</li>
                                    
<li >
    <a href="../python/design-pattern.html">设计模式</a>
</li>
                                    
<li >
    <a href="../python/leetcode.html">Leetcode</a>
</li>
                                    
<li >
    <a href="../python/offer.html">剑指Offer</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python Web <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../python-web/django.html">Django</a>
</li>
                                    
<li >
    <a href="../python-web/drf.html">Django Rest Framework</a>
</li>
                                    
<li >
    <a href="../python-web/flask.html">Flask</a>
</li>
                                    
<li >
    <a href="../python-web/mysql.html">MySQL</a>
</li>
                                    
<li >
    <a href="../python-web/redis.html">Redis</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python GUI <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../gui/pyqt5.html">PyQt5</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">网络爬虫 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="scrapy.html">Scrapy</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">数据分析 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../data-analysis/numpy.html">NumPy</a>
</li>
                                    
<li >
    <a href="../data-analysis/pandas.html">Pandas</a>
</li>
                                    
<li >
    <a href="../data-analysis/matplotlib.html">Matplotlib</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">计算机视觉 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../computer-vision/opencv.html">OpenCV</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">机器学习 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../machine-learning/quantitative-trading.html">机器学习与量化交易</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../deep-learning/deep-learning.html">深度学习</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                            <li >
                                <a rel="next" href="../gui/pyqt5.html">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../data-analysis/numpy.html">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#1">1. 爬虫基本原理概述</a></li>
            <li><a href="#11">1.1 爬虫基本流程</a></li>
            <li><a href="#12">1.2 请求与响应</a></li>
            <li><a href="#13">1.3 请求</a></li>
            <li><a href="#14">1.4 响应</a></li>
            <li><a href="#15">1.5 抓取内容数据类型</a></li>
            <li><a href="#16">1.6 解析内容的方式</a></li>
            <li><a href="#17">1.7 数据的保存</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="1">1. 爬虫基本原理概述</h3>
<h4 id="11">1.1 爬虫基本流程</h4>
<p>爬虫基本工作流程是：发起请求、获取响应内容、解析响应内容、保存数据</p>
<ul>
<li>
<p>发起请求：通过HTTP库向目标站点发起请求，即发送一个Request，请求可以包含额外的headers等信息，等待服务器响应。</p>
</li>
<li>
<p>获取响应内容：如果服务器能正常响应，会得到一个Response，Response的内容便是所要获取的页面内容，<strong><code>类型可能有HTML，Json字符串，二进制数据（如图片视频）等类型</code></strong>。</p>
</li>
<li>
<p>解析响应内容：得到的内容 <strong><code>可能是HTML，可以用正则表达式、网页解析库进行解析</code></strong>。<strong><code>可能是Json，可以直接转为Json对象解析</code></strong> ，可能是二进制数据，可以做保存或者进一步的处理。</p>
</li>
<li>
<p>保存数据：保存形式多样，可以存为文本，也可以保存至数据库，或者保存特定格式的文件。</p>
</li>
</ul>
<hr>

<h4 id="12">1.2 请求与响应</h4>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;浏览器发送消息给该网址所在的服务器，这个过程叫做 <strong><code>HTTP Request(请求)</code></strong>。服务器收到浏览器发送的消息后，能够根据浏览器发送消息的内容，做相应处理，然后把消息回传给浏览器。这个过程叫做 <strong><code>HTTP Response(响应)</code></strong>。 浏览器收到服务器的Response信息后，会对信息进行相应处理，然后展示。
<hr></p>
<h4 id="13">1.3 请求</h4>
<ul>
<li>
<p>请求方式：<strong><code>主要有GET、POST两种类型</code></strong>，另外还有HEAD、PUT、DELETE、OPTIONS等</p>
</li>
<li>
<p>请求URL：URL全称统一资源定位符，如一个网页文档、一张图片、一个视频等都可以用URL唯一来确定</p>
</li>
<li>
<p>请求头：包含请求时的头部信息，如User-Agent、Host、Cookies等信息</p>
</li>
<li>
<p>请求体：请求时额外携带的数据，如表单提交时的表单数据</p>
</li>
</ul>
<hr>

<h4 id="14">1.4 响应</h4>
<ul>
<li>
<p>响应状态：有多种响应状态，如200代表成功、301跳转、404找不到页面、502服务器错误</p>
</li>
<li>
<p>响应头：如内容类型、内容长度、服务器信息、设置Cookie等等</p>
</li>
<li>
<p>响应体：最主要的部分，包含了请求资源的内容，如网页HTML、图片二进制数据等</p>
</li>
</ul>
<hr>

<h4 id="15">1.5 抓取内容数据类型</h4>
<ul>
<li>
<p>网页文本：如HTML文档、Json格式文本等</p>
</li>
<li>
<p>图片：获取到的是二进制文件，保存为图片格式</p>
</li>
<li>
<p>视频：同为二进制文件，保存为视频格式即可</p>
</li>
<li>
<p>其他数据：只要是能请求到的，一般都能获取</p>
</li>
</ul>
<hr>

<h4 id="16">1.6 解析内容的方式</h4>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;直接处理、Json解析、正则表达式、<strong><code>bs4</code></strong>、PyQuery和Path等方式。如果遇到js渲染问题可以通过 <strong><code>分析Ajax请求、Selenium/WebDriver</code></strong>、Splash、PyV8和Ghost等来处理。
<hr></p>
<h4 id="17">1.7 数据的保存</h4>
<ul>
<li>
<p>文本：纯文本、Json、Xml等</p>
</li>
<li>
<p>关系型数据库：如MySQL、Oracle、SQL Server等具有结构化表结构形式存储</p>
</li>
<li>
<p>非关系型数据库：如MongoDB、Redis等Key-Value形式存储</p>
</li>
<li>
<p>二进制文件：如图片、视频、音频等等直接保存成特定格式即可</p>
</li>
</ul>
<p><hr>
<div style="width: 60px;height: auto;z-index: 99;bottom: 30%;position: fixed;right: 0px" id="plug-ins">
    <div style="position: relative;float: right">
        <a target="_blank" href="https://blog.csdn.net/thanlon" id="weibo"
           style="display: block;width: 40px;height: 40px;background-color: #c4351b;margin-top: 1px;">
            <img width="22" height="20" src="../img/csdn.jpeg" alt=""
                 style="margin-top: 10px;margin-left: 9px">
        </a>
        <a target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=3330447288&site=qq&menu=yes" id="qq" style="display: block;width: 40px;height: 40px;background-color:#0e91e8;margin-top: 1px">
            <img width="20" height="20" src="../img/qq.png" 
                 style="margin-top: 10px;margin-left: 10px" alt="点击这里给我发消息" title="点击这里给我发消息">
        </a>
        <a href="javascript:" id="wechat"
           style="display: block;width: 40px;height: 40px;background-color:#01b901;margin-top:1px">
            <img width="22" height="20" src="../img/wechat.png"
                 style="margin-top: 10px;margin-left: 9px">
        </a>
        <a href="javascript:" id="go_top"
           style="display: none;width: 40px;height: 40px;background-color: #b5b5b5;margin-top: 1px">
            <img width="22" height="20" src="../img/top.png" alt=""
                 style="margin-top: 10px;margin-left: 9px">
        </a>
    </div>
</div></p></div>
        </div>

        <footer class="col-md-12">
<!--    <hr>-->
    
    <p>Copyright © 2020-2022 bysj39.com All Rights Reserved.</p>
    <p><a href="https://beian.miit.gov.cn" target="_blank">豫ICP备19037971号-1</a><a target="_blank">
                <img src="http://47.102.145.225:5000/static/home/images/beian.png" style="padding-bottom:6px">
                <span style="color: black">豫公网安备 41152802000091号</span>
            </a></p>
    <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>

        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../js/main.js" defer></script>
        <script src="../js/busuanzi.pure.mini.js" defer></script>
        <script src="../js/gotop.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
